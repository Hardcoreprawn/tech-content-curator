# API Keys
OPENAI_API_KEY=your_openai_api_key_here

# Bluesky
BLUESKY_HANDLE=your.handle.bsky.social
BLUESKY_APP_PASSWORD=your_app_password_here

# Mastodon (optional - many instances allow public access)
# Tech-focused instances for better content:
# https://hachyderm.io - Developer/tech focused
# https://fosstodon.org - FOSS/open source focused  
# https://mastodon.technology - Tech discussions
MASTODON_INSTANCE=https://hachyderm.io
MASTODON_ACCESS_TOKEN=your_token_here_if_needed

# Reddit (optional)
REDDIT_CLIENT_ID=your_client_id_here
REDDIT_CLIENT_SECRET=your_client_secret_here
REDDIT_USER_AGENT=content-curator:v0.1.0 (by /u/yourusername)

# Reddit rate limiting (optional)
REDDIT_REQUESTS_PER_MINUTE=30
REDDIT_BURST=5
REDDIT_REQUEST_INTERVAL_SECONDS=1.0
REDDIT_MAX_RETRIES=3
REDDIT_BACKOFF_BASE=2.0
REDDIT_BACKOFF_MAX=60.0

# Content relevance filtering (optional)
ALLOW_TECH_CONTENT=true        # Include technical content (programming, tools, frameworks)
ALLOW_SCIENCE_CONTENT=true     # Include scientific content (research, papers, astronomy)
ALLOW_POLICY_CONTENT=true      # Include policy content (tech regulations, privacy laws)
RELEVANCE_NEGATIVE_KEYWORDS=recipe,baking,cooking,gardening,jigsaw,puzzle,sports,fashion,music,movie

# Content Settings
# Hugo site base URL (important for GitHub Pages subdirectory deployments)
# Include trailing slash for the repository path but not at the end
# Example for GitHub Pages: https://yourusername.github.io/your-repo-name
# Example for custom domain: https://yourdomain.com
HUGO_BASE_URL=https://yourusername.github.io/your-repo-name

# Generation settings (how many articles to generate per run)
# Higher numbers = more content coverage, better SEO
# Recommended: 8-10 for daily runs, 15-20 for catching up
ARTICLES_PER_RUN=10

# Citation resolution (academic DOI/arXiv linking)
ENABLE_CITATIONS=true
CITATIONS_CACHE_TTL_DAYS=30

# Image selection - multi-source fallback (Free stock photos before AI)
# Get your free API keys to replace gradient images with real photos
# Unsplash: https://unsplash.com/developers (5 min, 50 requests/hr free)
# Pexels: https://www.pexels.com/api (5 min, unlimited free)
UNSPLASH_API_KEY=your_unsplash_api_key_here
PEXELS_API_KEY=your_pexels_api_key_here
IMAGE_SOURCE_TIMEOUT=30  # Seconds to wait for image source APIs (Unsplash, Pexels)

# Source cooldown (days) - avoid regenerating same GitHub repo too frequently
SOURCE_COOLDOWN_DAYS=7
MIN_CONTENT_LENGTH=100
MAX_CONTENT_LENGTH=2000

# ==============================================================================
# AI Model Configuration (Phase 2)
# ==============================================================================
# Select models for different pipeline tasks
# Options: gpt-4o-mini (cheap, fast), gpt-4o (premium), gpt-4-turbo (best)
# See docs/MODEL-SELECTION-GUIDE.md for detailed recommendations

# Content generation model (main article body)
# Default: gpt-5-mini ($0.25/$2.00 per 1M tokens) - RECOMMENDED
# Budget: gpt-5-nano ($0.05/$0.40) for high-volume
# Upgrade to gpt-5 only if quality metrics show it's needed
CONTENT_MODEL=gpt-5-mini

# Title generation model (headlines)
# Default: gpt-5-nano ($0.05/$0.40) - perfect for titles
# Never needs upgrade - even nano is excellent for titles
TITLE_MODEL=gpt-5-nano

# Article review model (quality evaluation)
# Default: gpt-5-mini ($0.005-0.015 per review) - RECOMMENDED
# Budget: gpt-5-nano for basic checks
# Upgrade to gpt-5 for stricter evaluation ($0.025-0.075 per review)
REVIEW_MODEL=gpt-5-mini

# Research/enrichment model (source analysis)
# Default: gpt-5-nano ($0.05/$0.40) - specifically designed for summarization
# Upgrade to gpt-5-mini for complex synthesis
ENRICHMENT_MODEL=gpt-5-nano

# ==============================================================================
# Quality Gate Configuration (Two-Tier System)
# ==============================================================================
# Tier 1: Free quality scorer (ReadabilityAnalyzer) - no cost
# Tier 2: AI review (ArticleReviewer) - only if Tier 1 fails

# Enable the two-tier quality gate system
# When enabled, articles are first scored by free quality metrics
# Articles below QUALITY_GATE_THRESHOLD trigger AI review (Tier 2)
ENABLE_QUALITY_GATE=true

# Tier 1 threshold: Free quality score (0-100)
# Articles below this trigger Tier 2 AI review
# Recommended: 70.0 (catches ~20% of articles)
# Lower = stricter (more reviews, higher cost)
# Higher = looser (fewer reviews, lower cost)
QUALITY_GATE_THRESHOLD=70.0

# Automatically trigger AI review when Tier 1 fails
# If false, articles below threshold are published with warning
# Recommended: true (ensures quality)
ENABLE_AUTO_REVIEW_ON_FAILURE=true

# Automatically regenerate articles that fail AI review
# If false, low-quality articles are published with review notes
# Recommended: true (improves quality)
ENABLE_AUTO_REGENERATION=true

# Tier 2 threshold: AI review score (0-10)
# Articles below this are regenerated (if ENABLE_AUTO_REGENERATION=true)
# Recommended: 6.5 (balanced)
# Higher = stricter quality standards
REVIEW_SCORE_THRESHOLD=6.5

# Maximum regeneration attempts to prevent infinite loops
# Recommended: 2 (most articles improve after 1-2 attempts)
MAX_REGENERATION_ATTEMPTS=2

# ==============================================================================
# Legacy Article Review Settings (Deprecated - Use Quality Gate Instead)
# ==============================================================================
# These settings are for direct AI review without the quality gate
# Deprecated in favor of ENABLE_QUALITY_GATE two-tier system

# Enable direct AI review for all articles (bypass quality gate)
# Warning: Reviews every article, costs $0.02-0.03 each
# Recommended: false (use ENABLE_QUALITY_GATE instead)
ENABLE_ARTICLE_REVIEW=false

# Minimum review score for legacy direct review
# Only used if ENABLE_ARTICLE_REVIEW=true
ARTICLE_REVIEW_MIN_THRESHOLD=6.0

# Enable regeneration for legacy direct review
# Only used if ENABLE_ARTICLE_REVIEW=true
ENABLE_REVIEW_REGENERATION=false

# ==============================================================================
# Voice Performance Tracking
# ==============================================================================
# Track which writing voices perform best for different content types
# Free - no API costs, just metrics tracking

# Enable voice performance metrics and adaptation suggestions
# Tracks quality scores, readability, engagement by voice
# Stores data in data/voice_metrics.json
ENABLE_VOICE_METRICS=true

# ==============================================================================
# Secondary Source Research
# ==============================================================================
# Fetch primary sources and extract additional references
# Improves article depth by including original research

# Enable fetching of primary source articles for meta-content
# Costs ~$0.01-0.03 per article for GPT analysis
ENABLE_SECONDARY_SOURCES=true

# Maximum number of additional references to extract
# Higher = more depth, but slower and more API calls
# Recommended: 3-5
MAX_SECONDARY_REFERENCES=3