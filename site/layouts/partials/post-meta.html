{{/*
Post metadata display - shows reading time, word count, difficulty level, and publication date.
This partial overrides/extends the default PaperMod post meta information.
*/}}

<div class="post-meta-info">
  {{- if not .Site.Params.hideMeta }}
  <div class="post-meta-top">
    {{- if .Date }}
    <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}" class="post-date">
      {{ .Date.Format "January 2, 2006" }}
    </time>
    {{- end }}
    
    {{- if .Site.Params.ShowReadingTime }}
    {{- if not .Site.Params.hideReadingTime }}
    <span class="post-reading-time">
      {{ with .Params.reading_time }}{{ . }}{{ else }}{{ div (len (split (plainify .Content) " ")) 200 }} min read{{ end }}
    </span>
    {{- end }}
    {{- end }}
  </div>

  {{- if or .Params.difficulty .Params.word_count }}
  <div class="post-meta-bottom">
    {{- if .Params.difficulty }}
    <span class="post-difficulty">
      <strong>Difficulty:</strong>
      {{- if eq .Params.difficulty "beginner" }}
        <span class="difficulty-beginner" title="Beginner level - accessible to anyone new to this topic">Beginner</span>
      {{- else if eq .Params.difficulty "intermediate" }}
        <span class="difficulty-intermediate" title="Intermediate level - assumes some foundational knowledge">Intermediate</span>
      {{- else if eq .Params.difficulty "advanced" }}
        <span class="difficulty-advanced" title="Advanced level - technical depth and specialized knowledge">Advanced</span>
      {{- else }}
        {{ .Params.difficulty }}
      {{- end }}
    </span>
    {{- end }}

    {{- if .Params.word_count }}
    <span class="post-word-count">
      {{- if .Params.reading_time }}&nbsp;â€¢&nbsp;{{ end -}}
      <strong>{{ .Params.word_count }}</strong> words
    </span>
    {{- end }}
  </div>
  {{- end }}
  {{- end }}
</div>

<style>
.post-meta-info {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin: 0.5rem 0 1rem 0;
  font-size: 0.95rem;
  color: var(--meta-color, #666);
}

.post-meta-top {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  align-items: center;
}

.post-meta-bottom {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  align-items: center;
}

.post-date {
  font-weight: 500;
}

.post-reading-time {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
}

.post-difficulty {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.difficulty-beginner {
  background-color: rgba(34, 197, 94, 0.1);
  color: #22c55e;
  padding: 0.25rem 0.75rem;
  border-radius: 0.375rem;
  font-weight: 600;
  font-size: 0.85rem;
  border: 1px solid #22c55e;
}

.difficulty-intermediate {
  background-color: rgba(245, 158, 11, 0.1);
  color: #f59e0b;
  padding: 0.25rem 0.75rem;
  border-radius: 0.375rem;
  font-weight: 600;
  font-size: 0.85rem;
  border: 1px solid #f59e0b;
}

.difficulty-advanced {
  background-color: rgba(239, 68, 68, 0.1);
  color: #ef4444;
  padding: 0.25rem 0.75rem;
  border-radius: 0.375rem;
  font-weight: 600;
  font-size: 0.85rem;
  border: 1px solid #ef4444;
}

.post-word-count {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  color: var(--meta-color, #666);
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .post-meta-info {
    color: var(--meta-color-dark, #aaa);
  }
  
  .post-word-count {
    color: var(--meta-color-dark, #aaa);
  }
  
  .difficulty-beginner {
    background-color: rgba(34, 197, 94, 0.15);
    color: #4ade80;
  }
  
  .difficulty-intermediate {
    background-color: rgba(245, 158, 11, 0.15);
    color: #fbbf24;
  }
  
  .difficulty-advanced {
    background-color: rgba(239, 68, 68, 0.15);
    color: #f87171;
  }
}
</style>
